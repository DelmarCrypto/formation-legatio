<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Une aventure interactive pour maîtriser les cryptomonnaies !">
    <title>Crypto Quest - Formation Complète (Semaines 1 à 4 + Bonus)</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Roboto&display=swap" rel="stylesheet">
</head>
<body onload="loadProgress()">
    <div class="container">
        <!-- En-tête avec progression -->
        <header class="header">
            <h1 class="main-title">Crypto Quest : Deviens un Maître des Cryptos !</h1>
            <div class="progress-bar">
                <span id="progress-text">Progression : 0%</span>
                <progress id="progress" value="0" max="100"></progress>
            </div>
            <div class="inventory">
                <h3>Inventaire</h3>
                <ul id="inventory-list" aria-label="Récompenses obtenues"></ul>
            </div>
        </header>

        <!-- Audio -->
        <audio id="backgroundMusic" src="assets/sounds/background.mp3" loop preload="auto"></audio>
        <audio id="victorySound" src="assets/sounds/victory.mp3" preload="auto"></audio>
        <audio id="errorSound" src="assets/sounds/error.mp3" preload="auto"></audio>

        <!-- Écran de bienvenue -->
        <section id="welcome" class="intro-section" aria-label="Introduction">
            <div class="intro-text">
                <p>Bienvenue à Cryptopia, apprenti explorateur !</p>
                <p>Dans ce royaume mystique, tu apprendras à maîtriser les cryptomonnaies, à sécuriser tes trésors et à défier les forces obscures du marché.</p>
                <p>Es-tu prêt à entreprendre cette quête légendaire ?</p>
            </div>
            <button class="btn-start" onclick="startQuest()" aria-label="Démarrer la quête">Démarrer l'Aventure</button>
        </section>

        <!-- Semaine 1 -->
        <section id="week1" class="week" style="display: none;" aria-label="Semaine 1">
            <h2 class="week-title">Semaine 1 : L’Initiation au Royaume des Cryptos</h2>
            <p class="week-theme">Thème : Découvre les bases et protège-toi des voleurs numériques !</p>
            <div class="week-description">
                <p>Le Sage Satoshi t’accueille dans son temple. Ta première étape est d’apprendre les fondamentaux.</p>
            </div>

            <article class="mission" id="mission1-1">
                <h3>Mission 1 : Décrypter les Cryptomonnaies</h3>
                <p>Le Sage Satoshi te dit : "Les cryptomonnaies sont des trésors numériques. Associe Bitcoin à son pouvoir !"</p>
                <div class="activity" role="region" aria-label="Question sur Bitcoin">
                    <p>Quel est le super-pouvoir de Bitcoin ?</p>
                    <button onclick="checkAnswer('Décentralisation', 'mission1-1')">Décentralisation</button>
                    <button onclick="checkAnswer('Frais élevés', 'mission1-1')">Frais élevés</button>
                    <button onclick="checkAnswer('Centralisation', 'mission1-1')">Centralisation</button>
                    <p class="hint">Indice : Pense à ce qui rend Bitcoin unique face aux banques.</p>
                </div>
            </article>

            <article class="mission" id="mission1-2" style="display: none;">
                <h3>Mission 2 : Forger ton Bouclier Numérique</h3>
                <p>Le Forgeron 2FA te défie : "Crée un mot de passe fort pour protéger tes fonds !"</p>
                <div class="activity" role="region" aria-label="Création de mot de passe">
                    <input type="text" id="password1" placeholder="Ton mot de passe épique" aria-required="true">
                    <button onclick="checkPassword('mission1-2')">Forger !</button>
                    <p class="hint">Indice : Utilise au moins 12 caractères, avec chiffres et symboles.</p>
                </div>
            </article>

            <article class="mission" id="mission1-3" style="display: none;">
                <h3>Mission 3 : Choisir ton Coffre au Trésor</h3>
                <p>La Guilde des Gardiens te propose 3 coffres. Lequel choisis-tu pour ta quête ?</p>
                <div class="activity" role="region" aria-label="Choix du coffre">
                    <button onclick="checkCoffre('Matériel', 'mission1-3')">Coffre Matériel (sécurisé)</button>
                    <button onclick="checkCoffre('En ligne', 'mission1-3')">Coffre En Ligne (pratique)</button>
                    <button onclick="checkCoffre('Hors ligne', 'mission1-3')">Coffre Hors Ligne (équilibré)</button>
                    <p class="hint">Indice : La sécurité est clé dans ce monde dangereux !</p>
                </div>
            </article>

            <article class="mission" id="mission1-4" style="display: none;">
                <h3>Mission 4 : Déjouer les Pièges des Bandits</h3>
                <p>Les Bandits du Phishing t’envoient un message : "Clique pour un trésor gratuit !" Vrai ou Faux ?</p>
                <div class="activity" role="region" aria-label="Détection de phishing">
                    <button onclick="checkPhishing('Faux', 'mission1-4')">Faux</button>
                    <button onclick="checkPhishing('Vrai', 'mission1-4')">Vrai</button>
                    <p class="hint">Indice : Méfie-toi des offres trop belles pour être vraies.</p>
                </div>
            </article>

            <article class="mission boss" id="boss1" style="display: none;">
                <h3>Boss : Le Dragon de la Sécurité</h3>
                <p>Le Dragon rugit : "Quel outil est essentiel pour ta sécurité ?"</p>
                <div class="activity" role="region" aria-label="Combat contre le boss">
                    <button onclick="checkBoss('2FA', 'boss1')">2FA</button>
                    <button onclick="checkBoss('Wi-Fi public', 'boss1')">Wi-Fi public</button>
                    <button onclick="checkBoss('Mot de passe simple', 'boss1')">Mot de passe simple</button>
                    <p class="hint">Indice : Le Dragon craint les défenses doubles.</p>
                </div>
            </article>

            <div class="reward" id="reward1" style="display: none;" aria-label="Récompense Semaine 1">
                <h3>Récompense Gagnée !</h3>
                <p>Félicitations, aventurier ! Tu as vaincu le Dragon.</p>
                <img src="assets/images/medal.png" alt="Crypto-Médaille du Courage" class="reward-img">
                <p><strong>Crypto-Médaille du Courage</strong></p>
                <button onclick="nextWeek('week1', 'week2')">Semaine Suivante</button>
            </div>
        </section>

        <!-- Semaine 2 -->
        <section id="week2" class="week" style="display: none;" aria-label="Semaine 2">
            <h2 class="week-title">Semaine 2 : La Quête des Trésors Numériques</h2>
            <p class="week-theme">Thème : Explore la Forêt des Cryptos pour choisir ta monnaie et ton marché !</p>
            <div class="week-description">
                <p>La Forêt des Cryptos s’ouvre devant toi. Choisis bien tes alliés et tes chemins !</p>
            </div>

            <article class="mission" id="mission2-1">
                <h3>Mission 1 : Identifier les Trésors</h3>
                <p>L’Alchimiste te demande : "Quelle crypto est pour les contrats intelligents ?"</p>
                <div class="activity" role="region" aria-label="Question sur les cryptos">
                    <button onclick="checkAnswer('Ethereum', 'mission2-1')">Ethereum</button>
                    <button onclick="checkAnswer('Bitcoin', 'mission2-1')">Bitcoin</button>
                    <button onclick="checkAnswer('Ripple', 'mission2-1')">Ripple</button>
                    <p class="hint">Indice : Cherche une crypto qui exécute des sorts complexes.</p>
                </div>
            </article>

            <article class="mission" id="mission2-2" style="display: none;">
                <h3>Mission 2 : Découvrir ton Style d’Aventurier</h3>
                <p>L’Oracle te questionne : "Tu préfères l’aventure rapide ou un trésor durable ?"</p>
                <div class="activity" role="region" aria-label="Choix de style">
                    <button onclick="checkStyle('Rapide', 'mission2-2')">Rapide</button>
                    <button onclick="checkStyle('Durable', 'mission2-2')">Durable</button>
                    <p class="hint">Indice : Réfléchis à ton rythme dans cette quête.</p>
                </div>
            </article>

            <article class="mission" id="mission2-3" style="display: none;">
                <h3>Mission 3 : Explorer les Marchés de Cryptopia</h3>
                <p>Les Marchands vantent leurs étals. Lequel choisis-tu ?</p>
                <div class="activity" role="region" aria-label="Choix du marché">
                    <button onclick="checkMarket('Sécurité', 'mission2-3')">Sécurité</button>
                    <button onclick="checkMarket('Frais bas', 'mission2-3')">Frais bas</button>
                    <p class="hint">Indice : Priorise ce qui protège ton butin.</p>
                </div>
            </article>

            <article class="mission" id="mission2-4" style="display: none;">
                <h3>Mission 4 : Décoder les Taxes et Pièges</h3>
                <p>Le Troll des Frais : "Calcule les frais sur 100 € à 0,5 %."</p>
                <div class="activity" role="region" aria-label="Calcul des frais">
                    <input type="number" id="fees" placeholder="Ta réponse" aria-required="true">
                    <button onclick="checkFees('mission2-4')">Vérifier</button>
                    <p class="hint">Indice : Multiplie 100 par 0,005.</p>
                </div>
            </article>

            <article class="mission boss" id="boss2" style="display: none;">
                <h3>Boss : Le Géant du Choix</h3>
                <p>"Pourquoi choisis-tu Bitcoin ? Réponds en 3 mots."</p>
                <div class="activity" role="region" aria-label="Combat contre le boss">
                    <input type="text" id="reason" placeholder="Ta réponse" aria-required="true">
                    <button onclick="checkReason('boss2')">Soumettre</button>
                    <p class="hint">Indice : Pense à ses forces uniques.</p>
                </div>
            </article>

            <div class="reward" id="reward2" style="display: none;" aria-label="Récompense Semaine 2">
                <h3>Récompense : Clé d’Or du Marché</h3>
                <p>Tu as conquis la forêt et ses mystères !</p>
                <img src="assets/images/key.png" alt="Clé d’Or du Marché" class="reward-img">
                <button onclick="nextWeek('week2', 'week3')">Semaine Suivante</button>
            </div>
        </section>

        <!-- Semaine 3 -->
        <section id="week3" class="week" style="display: none;" aria-label="Semaine 3">
            <h2 class="week-title">Semaine 3 : La Forteresse des Portefeuilles</h2>
            <p class="week-theme">Thème : Construis ta forteresse pour protéger ton butin !</p>
            <div class="week-description">
                <p>Entre dans la Forteresse des Clés. Ton trésor mérite une protection inébranlable.</p>
            </div>

            <article class="mission" id="mission3-1">
                <h3>Mission 1 : Comprendre les Tours de Défense</h3>
                <p>L’Architecte explique : "Une clé publique est comme…"</p>
                <div class="activity" role="region" aria-label="Question sur les clés">
                    <button onclick="checkAnswer('Une adresse', 'mission3-1')">Une adresse</button>
                    <button onclick="checkAnswer('Un mot de passe', 'mission3-1')">Un mot de passe</button>
                    <p class="hint">Indice : C’est ce que tu partages sans crainte.</p>
                </div>
            </article>

            <article class="mission" id="mission3-2" style="display: none;">
                <h3>Mission 2 : Explorer les Types de Tours</h3>
                <p>Quel type de portefeuille est le plus sécurisé ?</p>
                <div class="activity" role="region" aria-label="Choix du portefeuille">
                    <button onclick="checkWalletType('Matériel', 'mission3-2')">Matériel</button>
                    <button onclick="checkWalletType('En ligne', 'mission3-2')">En ligne</button>
                    <button onclick="checkWalletType('Papier', 'mission3-2')">Papier</button>
                    <p class="hint">Indice : Cherche la tour la plus robuste.</p>
                </div>
            </article>

            <article class="mission" id="mission3-3" style="display: none;">
                <h3>Mission 3 : Ériger une Tour en Ligne</h3>
                <p>Le Mage du Cloud te guide : "Active 2FA pour ta tour !"</p>
                <div class="activity" role="region" aria-label="Activation 2FA">
                    <button onclick="activate2FA('Oui', 'mission3-3')">Oui</button>
                    <button onclick="activate2FA('Non', 'mission3-3')">Non</button>
                    <p class="hint">Indice : La sécurité double est ton amie.</p>
                </div>
            </article>

            <article class="mission" id="mission3-4" style="display: none;">
                <h3>Mission 4 : Renforcer une Tour Hors Ligne</h3>
                <p>Le Forgeron Local : "Où sauvegardes-tu tes clés ?"</p>
                <div class="activity" role="region" aria-label="Choix de sauvegarde">
                    <button onclick="checkBackup('USB', 'mission3-4')">USB</button>
                    <button onclick="checkBackup('Cloud', 'mission3-4')">Cloud</button>
                    <p class="hint">Indice : Évite les nuages vulnérables.</p>
                </div>
            </article>

            <article class="mission" id="mission3-5" style="display: none;">
                <h3>Mission 5 : Activer une Tour Matérielle</h3>
                <p>Le Gardien de Fer : "Connecte ta relique et transfère 10 BTC fictifs."</p>
                <div class="activity" role="region" aria-label="Transfert fictif">
                    <button onclick="transferBTC('mission3-5')">Transférer</button>
                    <p class="hint">Indice : Imagine un coffre-fort physique.</p>
                </div>
            </article>

            <article class="mission boss" id="boss3" style="display: none;">
                <h3>Boss : Le Titan des Clés</h3>
                <p>"Où ne dois-tu JAMAIS stocker ta clé privée ?"</p>
                <div class="activity" role="region" aria-label="Combat contre le boss">
                    <button onclick="checkBoss('Email', 'boss3')">Email</button>
                    <button onclick="checkBoss('Portefeuille matériel', 'boss3')">Portefeuille matériel</button>
                    <p class="hint">Indice : Le Titan déteste les endroits exposés.</p>
                </div>
            </article>

            <div class="reward" id="reward3" style="display: none;" aria-label="Récompense Semaine 3">
                <h3>Récompense : Cristal de Protection</h3>
                <p>Ta forteresse est désormais imprenable !</p>
                <img src="assets/images/crystal.png" alt="Cristal de Protection" class="reward-img">
                <button onclick="nextWeek('week3', 'week4')">Semaine Suivante</button>
            </div>
        </section>

        <!-- Semaine 4 -->
        <section id="week4" class="week" style="display: none;" aria-label="Semaine 4">
            <h2 class="week-title">Semaine 4 : La Grande Aventure d’Achat</h2>
            <p class="week-theme">Thème : Pars en expédition pour acheter des cryptos et affronter les tempêtes du marché !</p>
            <div class="week-description">
                <p>Navigue sur la Mer des Volatilités pour devenir un véritable maître crypto.</p>
            </div>

            <article class="mission" id="mission4-1">
                <h3>Mission 1 : Découvrir les Chemins d’Achat</h3>
                <p>Le Cartographe te montre : "Quelle méthode préfères-tu pour acheter des cryptos ?"</p>
                <div class="activity" role="region" aria-label="Choix de méthode d'achat">
                    <button onclick="checkPurchaseMethod('Plateformes', 'mission4-1')">Plateformes</button>
                    <button onclick="checkPurchaseMethod('P2P', 'mission4-1')">P2P</button>
                    <button onclick="checkPurchaseMethod('ATMs', 'mission4-1')">ATMs</button>
                    <p class="hint">Indice : Les plateformes sont les plus populaires.</p>
                </div>
            </article>

            <article class="mission" id="mission4-2" style="display: none;">
                <h3>Mission 2 : Acheter sur le Marché</h3>
                <p>Le Marchand te défie : "Achète 0,01 BTC fictif (prix : 500 €). Combien dépôts-tu ?"</p>
                <div class="activity" role="region" aria-label="Calcul d'achat">
                    <input type="number" id="deposit" placeholder="Ton dépôt en €" aria-required="true">
                    <button onclick="checkDeposit('mission4-2')">Acheter</button>
                    <p class="hint">Indice : Le prix est fixe ici !</p>
                </div>
            </article>

            <article class="mission" id="mission4-3" style="display: none;">
                <h3>Mission 3 : Affronter les Tempêtes</h3>
                <p>La Mer des Volatilités te secoue ! Lance le dé pour voir la chute.</p>
                <div class="activity" role="region" aria-label="Lancer de dé">
                    <button onclick="rollDice('mission4-3')">Lancer le Dé</button>
                    <p id="diceResult"></p>
                    <p class="hint">Indice : La chance décide de ton destin.</p>
                </div>
            </article>

            <article class="mission" id="mission4-4" style="display: none;">
                <h3>Mission 4 : Naviguer avec Sagesse</h3>
                <p>Le Capitaine Diversification : "Choisis une crypto à ajouter à ton portefeuille."</p>
                <div class="activity" role="region" aria-label="Diversification">
                    <button onclick="diversify('Bitcoin', 'mission4-4')">Bitcoin</button>
                    <button onclick="diversify('Ethereum', 'mission4-4')">Ethereum</button>
                    <button onclick="diversify('Ripple', 'mission4-4')">Ripple</button>
                    <p class="hint">Indice : Varie tes trésors pour plus de stabilité.</p>
                </div>
            </article>

            <article class="mission boss" id="boss4" style="display: none;">
                <h3>Boss : Le Kraken des Profits</h3>
                <p>"Quelle est ta stratégie en 5 mots ?"</p>
                <div class="activity" role="region" aria-label="Combat contre le boss">
                    <input type="text" id="strategy" placeholder="Ta stratégie" aria-required="true">
                    <button onclick="checkStrategy('boss4')">Soumettre</button>
                    <p class="hint">Indice : Sois clair et précis !</p>
                </div>
            </article>

            <div class="reward" id="reward4" style="display: none;" aria-label="Récompense Semaine 4">
                <h3>Récompense : Couronne de Maître Crypto</h3>
                <p>Félicitations ! Tu es un Maître de Cryptopia.</p>
                <img src="assets/images/crown.png" alt="Couronne de Maître Crypto" class="reward-img">
                <button onclick="nextWeek('week4', 'bonus')">Quêtes Bonus</button>
            </div>
        </section>

        <!-- Quêtes Bonus -->
        <section id="bonus" class="week" style="display: none;" aria-label="Quêtes Bonus">
            <h2 class="week-title">Bonus : Les Secrets du Roi Crypto</h2>
            <p class="week-theme">Thème : Des quêtes secrètes pour les plus curieux !</p>
            <div class="week-description">
                <p>Le Roi Crypto t’invite dans sa salle secrète. Prouve ta valeur une dernière fois.</p>
            </div>

            <article class="mission" id="bonus1">
                <h3>Quête Bonus 1 : Le Trésor Fiscal</h3>
                <p>Le Roi te demande : "Tu gagnes 500 € fictifs, taxe à 20 %. Combien payes-tu ?"</p>
                <div class="activity" role="region" aria-label="Calcul fiscal">
                    <input type="number" id="tax" placeholder="Ton calcul en €" aria-required="true">
                    <button onclick="checkTax('bonus1')">Payer</button>
                    <p class="hint">Indice : 20 % de 500, c’est simple !</p>
                </div>
            </article>

            <article class="mission" id="bonus2" style="display: none;">
                <h3>Quête Bonus 2 : Long Terme ou Éclair Rapide ?</h3>
                <p>L’Oracle te propose : "Investir ou trader ? Choisis ton destin."</p>
                <div class="activity" role="region" aria-label="Choix de destin">
                    <button onclick="checkDestiny('Investir', 'bonus2')">Investir</button>
                    <button onclick="checkDestiny('Trader', 'bonus2')">Trader</button>
                    <p class="hint">Indice : Chaque chemin a ses richesses.</p>
                </div>
            </article>

            <div class="reward" id="rewardBonus" style="display: none;" aria-label="Récompenses Bonus">
                <h3>Récompenses Bonus</h3>
                <p>Tu as percé les secrets ultimes !</p>
                <img src="assets/images/tax_crown.png" alt="Couronne Fiscale" class="reward-img">
                <p><strong>Couronne Fiscale</strong></p>
                <img src="assets/images/star.png" alt="Étoile de Vision" class="reward-img">
                <p><strong>Étoile de Vision</strong></p>
                <button onclick="endQuest()">Terminer l’Aventure</button>
            </div>
        </section>

        <!-- Fin -->
        <section id="end" class="end-section" style="display: none;" aria-label="Fin de l'aventure">
            <h2>Fin de l’Aventure</h2>
            <p>Bravo, Légende de Cryptopia ! Tu as tout conquis.</p>
            <p>Reviens quand tu veux pour de nouvelles quêtes ou partage ton savoir avec d’autres aventuriers !</p>
            <button class="btn-restart" onclick="restartQuest()">Recommencer</button>
        </section>
    </div>

    <footer class="footer">
        <p>Créé par xAI - Mars 2025</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
